<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Space Piano</title>
        <script src="js/jquery-2.1.0.min.js"></script>
        <script src="js/leap.js"></script>
        <script src="js/Three_r46.js"></script>
		<script src="/js/Detector.js"></script>
		<style>
html, body { width: 100%; height: 100%; margin: 0; padding: 0}
#leap-overlay { position: fixed; top: 0; left: 0;}
#loading_wrap {background: #ffffff; width: 100%; height: 100%; margin: 0 auto; vertical-align: middle; text-align: center;}
#loading_wrap img {position: absolute; top: 50%; left: 50%; margin-top: -256px; margin-left: -256px;}
</style>
		<!--  Stolen wholesale from the MIDI.js demo-Basic.html file -->
	    	<script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
	    	<script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
	    	<script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
	    	<script src="./js/MIDI/Player.js" type="text/javascript"></script>
	    	<script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
	    	<!-- extras -->
	    	<script src="./inc/Base64.js" type="text/javascript"></script>
	    	<script src="./inc/base64binary.js" type="text/javascript"></script>		
		<!--  END: demo-Basic.html rip off code :) thanks to the original author -->
		<script src="js/BoxField.js"></script>
		<script src="js/KeysLayer.js"></script>
        <script src="js/FeedbackLayer.js"></script>		
        <script src="js/SoundLayer.js"></script>
		
		
		<link rel="stylesheet" type="text/css" href="style.css">
		
    </head>
    <body>
    	<div id="loading_wrap">
    		<img src="images/loader.gif">
    	</div>

		<!-- How do I know which instrument is which number? 
			https://en.wikipedia.org/wiki/General_MIDI
		-->
		<div style="position: absolute">
		<select id="instrument" name="inst" onchange="changeInstrument()">
			<option value="21">accordion</option>
			<option value="32">acoustic_bass</option>
			<option value="0" selected>acoustic_grand_piano</option>
			<option value="24">acoustic_guitar_nylon</option>
			<option value="25">acoustic_guitar_steel</option>
			<option value="113">agogo</option>
			<option value="65">alto_sax</option>
			<option value="126">applause</option>
			<option value="109">bagpipe</option>
			<option value="105">banjo</option>
			<option value="67">baritone_sax</option>
			<option value="70">bassoon</option>
			<option value="123">bird_tweet</option>
			<option value="76">blown_bottle</option>
			<option value="61">brass_section</option>
			<option value="121">breath_noise</option>
			<option value="1">bright_acoustic_piano</option>
			<option value="8">celesta</option>
			<option value="42">cello</option>
			<option value="52">choir_aahs</option>
			<option value="19">church_organ</option>
			<option value="71">clarinet</option>
			<option value="7">clavinet</option>
			<option value="43">contrabass</option>
			<option value="30">distortion_guitar</option>
			<option value="16">drawbar_organ</option>
			<option value="15">dulcimer</option>
			<option value="33">electric_bass_finger</option>
			<option value="34">electric_bass_pick</option>
			<option value="2">electric_grand_piano</option>
			<option value="27">electric_guitar_clean</option>
			<option value="26">electric_guitar_jazz</option>
			<option value="28">electric_guitar_muted</option>
			<option value="4">electric_piano_1</option>
			<option value="5">electric_piano_2</option>
			<option value="69">english_horn</option>
			<option value="110">fiddle</option>
			<option value="73">flute</option>
			<option value="60">french_horn</option>
			<option value="35">fretless_bass</option>
			<option value="96">fx_1_rain</option>
			<option value="97">fx_2_soundtrack</option>
			<option value="98">fx_3_crystal</option>
			<option value="99">fx_4_atmosphere</option>
			<option value="100">fx_5_brightness</option>
			<option value="101">fx_6_goblins</option>
			<option value="102">fx_7_echoes</option>
			<option value="103">fx_8_sci-fi</option>
			<option value="9">glockenspiel</option>
			<option value="120">guitar_fret_noise</option>
			<option value="31">guitar_harmonics</option>
			<option value="127">gunshot</option>
			<option value="22">harmonica</option>
			<option value="6">harpsichord</option>
			<option value="125">helicopter</option>
			<option value="3">honkytonk_piano</option>
			<option value="108">kalimba</option>
			<option value="107">koto</option>
			<option value="80">lead_1_square</option>
			<option value="81">lead_2_sawtooth</option>
			<option value="82">lead_3_calliope</option>
			<option value="83">lead_4_chiff</option>
			<option value="84">lead_5_charang</option>
			<option value="85">lead_6_voice</option>
			<option value="86">lead_7_fifths</option>
			<option value="87">lead_8_bass_+_lead</option>
			<option value="12">marimba</option>
			<option value="117">melodic_tom</option>
			<option value="10">music_box</option>
			<option value="59">muted_trumpet</option>
			<option value="68">oboe</option>
			<option value="79">ocarina</option>
			<option value="55">orchestra_hit</option>
			<option value="46">orchestral_harp</option>
			<option value="29">overdriven_guitar</option>
			<option value="88">pad_1_new_age</option>
			<option value="89">pad_2_warm</option>
			<option value="90">pad_3_polysynth</option>
			<option value="91">pad_4_choir</option>
			<option value="92">pad_5_bowed</option>
			<option value="93">pad_6_metallic</option>
			<option value="94">pad_7_halo</option>
			<option value="95">pad_8_sweep</option>
			<option value="75">pan_flute</option>
			<option value="17">percussive_organ</option>
			<option value="72">piccolo</option>
			<option value="45">pizzicato_strings</option>
			<option value="74">recorder</option>
			<option value="20">reed_organ</option>
			<option value="119">reverse_cymbal</option>
			<option value="18">rock_organ</option>
			<option value="122">seashore</option>
			<option value="77">shakuhachi</option>
			<option value="106">shamisen</option>
			<option value="111">shanai</option>
			<option value="104">sitar</option>
			<option value="36">slap_bass_1</option>
			<option value="37">slap_bass_2</option>
			<option value="64">soprano_sax</option>
			<option value="114">steel_drums</option>
			<option value="48">string_ensemble_1</option>
			<option value="49">string_ensemble_2</option>
			<option value="38">synth_bass_1</option>
			<option value="39">synth_bass_2</option>
			<option value="62">synth_brass_1</option>
			<option value="63">synth_brass_2</option>
			<option value="54">synth_choir</option>
			<option value="118">synth_drum</option>
			<option value="50">synth_strings_1</option>
			<option value="51">synth_strings_2</option>
			<option value="116">taiko_drum</option>
			<option value="23">tango_accordion</option>
			<option value="124">telephone_ring</option>
			<option value="66">tenor_sax</option>
			<option value="47">timpani</option>
			<option value="112">tinkle_bell</option>
			<option value="44">tremolo_strings</option>
			<option value="57">trombone</option>
			<option value="56">trumpet</option>
			<option value="58">tuba</option>
			<option value="14">tubular_bells</option>
			<option value="11">vibraphone</option>
			<option value="41">viola</option>
			<option value="40">violin</option>
			<option value="53">voice_oohs</option>
			<option value="78">whistle</option>
			<option value="115">woodblock</option>
			<option value="13">xylophone</option>
		</select>
		
		<select id="instrument_2" name="inst" >
			<option value="21">accordion</option>
			<option value="32">acoustic_bass</option>
			<option value="0" selected>acoustic_grand_piano</option>
			<option value="24">acoustic_guitar_nylon</option>
			<option value="25">acoustic_guitar_steel</option>
			<option value="113">agogo</option>
			<option value="65">alto_sax</option>
			<option value="126">applause</option>
			<option value="109">bagpipe</option>
			<option value="105">banjo</option>
			<option value="67">baritone_sax</option>
			<option value="70">bassoon</option>
			<option value="123">bird_tweet</option>
			<option value="76">blown_bottle</option>
			<option value="61">brass_section</option>
			<option value="121">breath_noise</option>
			<option value="1">bright_acoustic_piano</option>
			<option value="8">celesta</option>
			<option value="42">cello</option>
			<option value="52">choir_aahs</option>
			<option value="19">church_organ</option>
			<option value="71">clarinet</option>
			<option value="7">clavinet</option>
			<option value="43">contrabass</option>
			<option value="30">distortion_guitar</option>
			<option value="16">drawbar_organ</option>
			<option value="15">dulcimer</option>
			<option value="33">electric_bass_finger</option>
			<option value="34">electric_bass_pick</option>
			<option value="2">electric_grand_piano</option>
			<option value="27">electric_guitar_clean</option>
			<option value="26">electric_guitar_jazz</option>
			<option value="28">electric_guitar_muted</option>
			<option value="4">electric_piano_1</option>
			<option value="5">electric_piano_2</option>
			<option value="69">english_horn</option>
			<option value="110">fiddle</option>
			<option value="73">flute</option>
			<option value="60">french_horn</option>
			<option value="35">fretless_bass</option>
			<option value="96">fx_1_rain</option>
			<option value="97">fx_2_soundtrack</option>
			<option value="98">fx_3_crystal</option>
			<option value="99">fx_4_atmosphere</option>
			<option value="100">fx_5_brightness</option>
			<option value="101">fx_6_goblins</option>
			<option value="102">fx_7_echoes</option>
			<option value="103">fx_8_sci-fi</option>
			<option value="9">glockenspiel</option>
			<option value="120">guitar_fret_noise</option>
			<option value="31">guitar_harmonics</option>
			<option value="127">gunshot</option>
			<option value="22">harmonica</option>
			<option value="6">harpsichord</option>
			<option value="125">helicopter</option>
			<option value="3">honkytonk_piano</option>
			<option value="108">kalimba</option>
			<option value="107">koto</option>
			<option value="80">lead_1_square</option>
			<option value="81">lead_2_sawtooth</option>
			<option value="82">lead_3_calliope</option>
			<option value="83">lead_4_chiff</option>
			<option value="84">lead_5_charang</option>
			<option value="85">lead_6_voice</option>
			<option value="86">lead_7_fifths</option>
			<option value="87">lead_8_bass_+_lead</option>
			<option value="12">marimba</option>
			<option value="117">melodic_tom</option>
			<option value="10">music_box</option>
			<option value="59">muted_trumpet</option>
			<option value="68">oboe</option>
			<option value="79">ocarina</option>
			<option value="55">orchestra_hit</option>
			<option value="46">orchestral_harp</option>
			<option value="29">overdriven_guitar</option>
			<option value="88">pad_1_new_age</option>
			<option value="89">pad_2_warm</option>
			<option value="90">pad_3_polysynth</option>
			<option value="91">pad_4_choir</option>
			<option value="92">pad_5_bowed</option>
			<option value="93">pad_6_metallic</option>
			<option value="94">pad_7_halo</option>
			<option value="95">pad_8_sweep</option>
			<option value="75">pan_flute</option>
			<option value="17">percussive_organ</option>
			<option value="72">piccolo</option>
			<option value="45">pizzicato_strings</option>
			<option value="74">recorder</option>
			<option value="20">reed_organ</option>
			<option value="119">reverse_cymbal</option>
			<option value="18">rock_organ</option>
			<option value="122">seashore</option>
			<option value="77">shakuhachi</option>
			<option value="106">shamisen</option>
			<option value="111">shanai</option>
			<option value="104">sitar</option>
			<option value="36">slap_bass_1</option>
			<option value="37">slap_bass_2</option>
			<option value="64">soprano_sax</option>
			<option value="114">steel_drums</option>
			<option value="48">string_ensemble_1</option>
			<option value="49">string_ensemble_2</option>
			<option value="38">synth_bass_1</option>
			<option value="39">synth_bass_2</option>
			<option value="62">synth_brass_1</option>
			<option value="63">synth_brass_2</option>
			<option value="54">synth_choir</option>
			<option value="118">synth_drum</option>
			<option value="50">synth_strings_1</option>
			<option value="51">synth_strings_2</option>
			<option value="116">taiko_drum</option>
			<option value="23">tango_accordion</option>
			<option value="124">telephone_ring</option>
			<option value="66">tenor_sax</option>
			<option value="47">timpani</option>
			<option value="112">tinkle_bell</option>
			<option value="44">tremolo_strings</option>
			<option value="57">trombone</option>
			<option value="56">trumpet</option>
			<option value="58">tuba</option>
			<option value="14">tubular_bells</option>
			<option value="11">vibraphone</option>
			<option value="41">viola</option>
			<option value="40">violin</option>
			<option value="53">voice_oohs</option>
			<option value="78">whistle</option>
			<option value="115">woodblock</option>
			<option value="13">xylophone</option>
		</select>		
		
		<input id="playspeed" type="text" value="15">
	</div>	
	<div id="result"></div>
<script>
function loadLayout(){
	$('#loading_wrap').hide();
}
$(document).on('keyup', function(e){
	var code = e.keyCode || e.which;
	console.log(code);
	var s = parseInt($("#playspeed").val());
	switch (code) {
		case 38:
			// KEY UP
			if (s < 15){
				$("#playspeed").val(s+5);	
			} else {
				$("#playspeed").val(s+15);
			}
			break;
		case 40:
			// KEY DOWN5
			if(s <= 15 && s > 5){
				$("#playspeed").val(s-5);	
			} else if (s <= 5) {
				$("#playspeed").val(5);
			} else {
				$("#playspeed").val(s -15);
			}
			break;
		default:
			// nothing
		
	}
})
// listen to Leap Motion
</script>
    </body>
</html>
